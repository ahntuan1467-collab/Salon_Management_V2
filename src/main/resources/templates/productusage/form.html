<div th:fragment="content">
    <div class="container mt-3">
        <h4 th:text="${product.id == null ? '‚ûï Th√™m S·∫£n ph·∫©m s·ª≠ d·ª•ng' : '‚úèÔ∏è C·∫≠p nh·∫≠t S·∫£n ph·∫©m s·ª≠ d·ª•ng'}"></h4>

        <!-- ‚úÖ C√∫ ph√°p th:action ƒë√∫ng -->
        <form th:action="${product.id == null} ? @{/productusage/save} : @{'/productusage/update/' + product.id}" method="post">

            <!-- T√™n s·∫£n ph·∫©m -->
            <div class="mb-3">
                <label for="productName" class="form-label">T√™n s·∫£n ph·∫©m</label>
                <input id="productName" class="form-control" name="productName"
                       th:value="${product.productName}" required />
            </div>

            <!-- S·ªë l∆∞·ª£ng -->
            <div class="mb-3">
                <label for="quantityUsed" class="form-label">S·ªë l∆∞·ª£ng</label>
                <input id="quantityUsed" type="number" class="form-control"
                       name="quantityUsed" min="1"
                       th:value="${product.quantityUsed}" required />
            </div>

            <!-- ‚úÖ ƒê∆°n v·ªã: thay input b·∫±ng dropdown -->
            <div class="mb-3">
                <label for="unit" class="form-label">ƒê∆°n v·ªã</label>
                <select id="unit" class="form-select" name="unit" required>
                    <option value="">-- Ch·ªçn ƒë∆°n v·ªã --</option>
                    <option value="Chai" th:selected="${product.unit == 'Chai'}">Chai</option>
                    <option value="C√°i" th:selected="${product.unit == 'C√°i'}">C√°i</option>
                    <option value="T√∫i" th:selected="${product.unit == 'T√∫i'}">T√∫i</option>
                    <option value="Chi·∫øc" th:selected="${product.unit == 'Chi·∫øc'}">Chi·∫øc</option>
                    <option value="L·ªç" th:selected="${product.unit == 'L·ªç'}">L·ªç</option>
                    <option value="H·ªôp" th:selected="${product.unit == 'H·ªôp'}">H·ªôp</option>
                    <option value="B√¨nh" th:selected="${product.unit == 'B√¨nh'}">B√¨nh</option>
                    <option value="Th√πng" th:selected="${product.unit == 'Th√πng'}">Th√πng</option>
                    <option value="G√≥i" th:selected="${product.unit == 'G√≥i'}">G√≥i</option>
                </select>
            </div>

            <!-- Booking s·ª≠ d·ª•ng -->
            <div class="mb-3">
                <label for="bookingId" class="form-label">Booking s·ª≠ d·ª•ng</label>
                <select id="bookingId" name="bookingId" class="form-select" required>
                    <option value="">-- Ch·ªçn Booking --</option>
                    <option th:each="b : ${bookings}"
                            th:value="${b.id}"
                            th:text="${b.customer.name + ' - ' + b.service.name}"
                            th:selected="${product.bookingId == b.id}">
                    </option>
                </select>
            </div>

            <!-- N√∫t h√†nh ƒë·ªông -->
            <button type="submit" class="btn btn-primary">üíæ L∆∞u</button>
            <a th:href="@{/productusage/list}" class="btn btn-secondary">‚¨Ö Quay l·∫°i</a>
        </form>
    </div>
</div>
