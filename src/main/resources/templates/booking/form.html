<div th:fragment="content">
    <div class="container mt-3">
        <h4 th:text="${booking.id == null ? '‚ûï Th√™m ƒë·∫∑t l·ªãch' : '‚úèÔ∏è C·∫≠p nh·∫≠t ƒë·∫∑t l·ªãch'}"></h4>

        <!-- ‚úÖ D√≤ng th:action ƒë√£ ƒë∆∞·ª£c s·ª≠a c√∫ ph√°p -->
        <form th:action="${booking.id == null} ? @{/booking/save} : @{'/booking/update/' + booking.id}" method="post">

            <div class="mb-3">
                <label>Kh√°ch h√†ng</label>
                <select name="customerId" class="form-select" required>
                    <option th:each="c : ${customers}"
                            th:value="${c.id}"
                            th:text="${c.name}"
                            th:selected="${booking.customerId == c.id}">
                    </option>
                </select>
            </div>

            <div class="mb-3">
                <label>Nh√¢n vi√™n</label>
                <select name="employeeId" class="form-select" required>
                    <option th:each="e : ${employees}"
                            th:value="${e.id}"
                            th:text="${e.fullName}"
                            th:selected="${booking.employeeId == e.id}">
                    </option>
                </select>
            </div>

            <div class="mb-3">
                <label>D·ªãch v·ª•</label>
                <select name="serviceId" class="form-select" required>
                    <option th:each="s : ${services}"
                            th:value="${s.id}"
                            th:text="${s.name}"
                            th:selected="${booking.serviceId == s.id}">
                    </option>
                </select>
            </div>

            <div class="mb-3">
                <label>Th·ªùi gian ƒë·∫∑t</label>
                <input type="datetime-local"
                       name="bookingTime"
                       class="form-control"
                       th:value="${#temporals.format(booking.bookingTime, 'yyyy-MM-dd''T''HH:mm')}"

                       required>
            </div>

            <div class="mb-3">
                <label>Tr·∫°ng th√°i</label>
                <select class="form-select" name="status">
                    <option th:selected="${booking.status == 'ƒêang ch·ªù'}">ƒêang ch·ªù</option>
                    <option th:selected="${booking.status == 'Ho√†n th√†nh'}">Ho√†n th√†nh</option>
                    <option th:selected="${booking.status == 'H·ªßy'}">H·ªßy</option>
                </select>
            </div>

            <div class="mb-3">
                <label>Ghi ch√∫</label>
                <textarea name="note" class="form-control" th:text="${booking.note}"></textarea>
            </div>

            <button type="submit" class="btn btn-primary">üíæ L∆∞u</button>
            <a th:href="@{/booking/list}" class="btn btn-secondary">‚¨Ö Quay l·∫°i</a>
        </form>
    </div>
</div>
