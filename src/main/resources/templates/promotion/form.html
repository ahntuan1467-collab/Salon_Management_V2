<div th:fragment="content">
    <div class="container mt-3">
        <h4 th:text="${promotion.id == null ? 'âž• ThÃªm Khuyáº¿n mÃ£i' : 'âœï¸ Cáº­p nháº­t Khuyáº¿n mÃ£i'}"></h4>

        <!-- âœ… ÄÃ£ sá»­a cÃº phÃ¡p th:action -->
        <form th:action="${promotion.id == null} ? @{/promotion/save} : @{'/promotion/update/' + promotion.id}" method="post">
            <div class="mb-3">
                <label>MÃ£ Khuyáº¿n mÃ£i</label>
                <input class="form-control" name="code" th:value="${promotion.code}" required />
            </div>

            <div class="mb-3">
                <label>TÃªn chÆ°Æ¡ng trÃ¬nh</label>
                <input class="form-control" name="name" th:value="${promotion.name}" required />
            </div>

            <div class="mb-3">
                <label>Giáº£m giÃ¡ (%)</label>
                <input type="number" class="form-control" name="discount" th:value="${promotion.discount}" required />
            </div>

            <div class="mb-3">
                <label>NgÃ y báº¯t Ä‘áº§u</label>
                <input type="date" class="form-control" name="startDate"
                       th:value="${promotion.startDate != null ? #dates.format(promotion.startDate, 'yyyy-MM-dd') : ''}" required />
            </div>

            <div class="mb-3">
                <label>NgÃ y káº¿t thÃºc</label>
                <input type="date" class="form-control" name="endDate"
                       th:value="${promotion.endDate != null ? #dates.format(promotion.endDate, 'yyyy-MM-dd') : ''}" required />
            </div>

            <div class="mb-3">
                <label>MÃ´ táº£</label>
                <textarea class="form-control" name="description" rows="3"
                          th:text="${promotion.description}"></textarea>
            </div>

            <div class="mb-3">
                <label>Tráº¡ng thÃ¡i</label>
                <select class="form-select" name="status">
                    <option th:selected="${promotion.status == 'Hoáº¡t Ä‘á»™ng'}">Hoáº¡t Ä‘á»™ng</option>
                    <option th:selected="${promotion.status == 'Háº¿t háº¡n'}">Háº¿t háº¡n</option>
                </select>
            </div>

            <button type="submit" class="btn btn-primary">ðŸ’¾ LÆ°u</button>
            <a th:href="@{/promotion/list}" class="btn btn-secondary">â¬… Quay láº¡i</a>
        </form>
    </div>
</div>
